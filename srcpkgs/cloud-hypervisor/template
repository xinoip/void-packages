# Template file for 'cloud-hypervisor'
pkgname=cloud-hypervisor
version=51.0
revision=1
archs="aarch64* x86_64*"
build_style=cargo
hostmakedepends="pkg-config"
makedepends="libzstd-devel openssl-devel"
short_desc="Virtual Machine Monitor for modern Cloud workloads"
maintainer="Leah Neukirchen <leah@vuxu.org>"
license="Apache-2.0, BSD-3-Clause"
homepage="https://github.com/cloud-hypervisor/cloud-hypervisor"
distfiles="https://github.com/cloud-hypervisor/cloud-hypervisor/archive/v${version}.tar.gz"
checksum=c73887c78f037db94c835d23ffb3e46acfa00b40adbf16b270414349595e8822

do_install() {
	for f in cloud-hypervisor ch-remote; do
		for b in target/*/release/$f; do
			vbin $b
		done
	done
	vbin scripts/ch-trace-visualiser.py ch-trace-visualiser

	for f in LICENSES/*; do
		vlicense $f
	done
}
